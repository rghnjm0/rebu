{% extends "base.html" %}

{% block content %}
<div class="create-post">
    <h2>Создать новый пост</h2>

    <form method="POST" action="{{ url_for('create_post') }}">
        <div class="form-group">
            <label for="community_id">
                Сообщество:
                <small>(необязательно - если не выбрать, пост будет в общей ленте)</small>
            </label>
            <select id="community_id" name="community_id">
                <option value="">Общая лента</option>
                {% for community in communities %}
                <option value="{{ community.id }}">r/{{ community.name }} - {{ community.display_name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="title">Заголовок: <span class="required">*</span></label>
            <input type="text" id="title" name="title" required maxlength="200" placeholder="Заголовок поста">
        </div>

        <div class="form-group">
            <label for="content">Содержание: <span class="required">*</span></label>
            <textarea id="content" name="content" rows="10" required placeholder="Текст вашего поста..."></textarea>
        </div>

        <div class="form-group">
            <label for="post_type">Тип поста:</label>
            <select id="post_type" name="post_type">
                <option value="text">Текст</option>
                <option value="link">Ссылка</option>
                <option value="image">Изображение</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Опубликовать</button>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">Отмена</a>
    </form>
</div>
{% endblock %}